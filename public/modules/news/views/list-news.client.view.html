<section data-ng-controller="NewsController" data-ng-init="find()">
  <div class="row">
    <div class="col-md-offset-2 col-md-8 col-xs-12">
      <div class="page-header">
        <h1>News</h1>
      </div>
      <div data-ng-repeat="news in news">
        <h3 data-ng-bind="news.title"></h3>
        <p data-ng-bind="news.content"></p>
        <div class="pull-right" data-ng-show="((authentication.user) && (authentication.user.roles.indexOf('admin') > 0))">
          <a class="btn btn-primary" href="/#!/news/{{news._id}}/edit">
            <i class="glyphicon glyphicon-edit"></i>
          </a>
          <a class="btn btn-primary" data-ng-click="remove();">
            <i class="glyphicon glyphicon-trash"></i>
          </a>
        </div>
        <small>
          Posted on
          <span data-ng-bind="news.created | date:'medium'"></span>
          by
          <span data-ng-bind="news.user.displayName"></span>
        </small>
      </div>
      <div class="alert alert-warning text-center" data-ng-hide="!news.$resolved || news.length">
        No News yet, why don't you <a href="/#!/news/create">create some</a>?
      </div>
    </div>
  </div>
</section>
